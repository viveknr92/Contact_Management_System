<% include partials/header %>

<div class="container">
    <div class="row">
    <% if (search_result != null && search_result.length > 0) {%>
    <p><%= count %> Contacts found</p>
        <table class="table table-bordered table-striped">
            <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Middle Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody id="searchQuery">
                
                <% console.log("view : " + search_result[0].fname); %>
                <% console.log("query : " + search_query); %>
                <% var editvar = null;  %>
                <% for(r of search_result) { %>
                <tr>
                    <td>
                        <%= r.contact_id %>
                    </td>
                    <td>
                        <%= r.fname %>
                    </td>
                    <td>
                        <%= r.mname %>
                    </td>
                    <td>
                        <%= r.lname %>
                    </td>
                    <td><a href="/addpage?edit=<%= r.contact_id %>" class="btn btn-sm btn-success" id="editButton">Edit</a>
                    <a href="#" data-href="/delete/<%= r.contact_id %>" class="btn btn-sm btn-danger" id="deleteButton"data-toggle="modal" data-target="#confirm-delete">Delete</a></td>
                </tr>
                <% } %>
            </tbody>
        </table>
        <% } %>
    </div>
</div>

<div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                Delete Contact
            </div>
            <div class="modal-body">
                Confirm Delete Contact ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <a class="btn btn-danger btn-ok">Delete</a>
            </div>
        </div>
    </div>
</div>

<% include partials/footer %>